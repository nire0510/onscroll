{"version":3,"sources":["orchestrator.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_typeof","Symbol","iterator","constructor","prototype","_directive","_directive2","orchestrator","mode","active","_scroll","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","_position","_collection","_init","_run","bind","_start","addEventListener","document","readyState","scrollTo","scrollX","_stop","removeEventListener","_update","length","every","directive","enabled","_this","pageXOffset","pageYOffset","forEach","run","add","options","console","warn","valid","push","remove","_this2","_len","arguments","ids","Array","_key","index","findIndex","splice","disable","_this3","_len2","_key2","filter","includes","enable","_this4","_len3","_key3","_toConsumableArray","arr","isArray","i","arr2","from","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","Directive","btoa","Date","valueOf","toString","element","extractOptions","selector","timeline","querySelectorAll","style","scene","actions","top","isFinite","n","left","_loop","action","hasOwnProperty","addClass","removeClass","keys","concat","getComputedStyle","current","prop","getPropertyValue","log","method","_loop2","className","classList","_loop3","property","_loop4","_loop5"],"mappings":"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","file":"orchestrator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"orchestrator\"] = factory();\n\telse\n\t\troot[\"orchestrator\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _directive = __webpack_require__(1);\n\t\n\tvar _directive2 = _interopRequireDefault(_directive);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar orchestrator = {\n\t  /**\n\t   * Current\n\t   */\n\t  mode: 'scroll', // 'requestAnimationFrame' / 'scroll'\n\t\n\t  /**\n\t   * Indicates if orchestrator is currently active\n\t   * @type {boolean}\n\t   */\n\t  active: false,\n\t\n\t  /**\n\t   * Scroll callback function\n\t   * @type {function}\n\t   * @private\n\t   */\n\t  _scroll: window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) {\n\t    window.setTimeout(callback, 1000 / 60);\n\t  },\n\t\n\t  /**\n\t   * Current H&V scrolls position\n\t   * @type [{number}, {number}]\n\t   * @private\n\t   */\n\t  _position: [-1, -1],\n\t\n\t  /**\n\t   * Directives collection\n\t   * @type [{Directive}]\n\t   * @private\n\t   */\n\t  _collection: [],\n\t\n\t  /**\n\t   * Object initialization\n\t   * @private\n\t   */\n\t  _init: function _init() {\n\t    this._run = this._run.bind(this);\n\t    // this._collection = new Proxy(this._data, {\n\t    //   deleteProperty: (target, property) => {\n\t    //     delete target[property];\n\t    //     if (target.length === 0) {\n\t    //       this._stop();\n\t    //     }\n\t    //     return true;\n\t    //   },\n\t    //   set: (target, property, value, receiver) => {\n\t    //     target[property] = value;\n\t    //     if (target.length > 0) {\n\t    //       this._start();\n\t    //     }\n\t    //     return true;\n\t    //   }\n\t    // });\n\t  },\n\t\n\t\n\t  /**\n\t   * Starts to track scrolls and call directives\n\t   * @private\n\t   */\n\t  _start: function _start() {\n\t    // add event listener:\n\t    switch (this.mode) {\n\t      case 'scroll':\n\t        window.addEventListener('scroll', this._run);\n\t        break;\n\t      case 'requestAnimationFrame':\n\t        this._scroll.call(window, this._run);\n\t        break;\n\t    }\n\t    // trigger scroll event to apply directives for current positions:\n\t    if (document.readyState !== 'complete') {\n\t      window.addEventListener('load', function () {\n\t        window.scrollTo(window.scrollX, window.scrollX);\n\t      });\n\t    } else {\n\t      window.scrollTo(window.scrollX, window.scrollX);\n\t    }\n\t    // set active:\n\t    this.active = true;\n\t  },\n\t\n\t\n\t  /**\n\t   * Stops to track scrolls and call directives\n\t   * @private\n\t   */\n\t  _stop: function _stop() {\n\t    // remove event listener:\n\t    if (this.mode === 'scroll') {\n\t      window.removeEventListener('scroll', this._run);\n\t    }\n\t    // set inactive:\n\t    this.active = false;\n\t  },\n\t\n\t\n\t  /**\n\t   * Starts or stops orchestrator depends on how many directives are active\n\t   * @private\n\t   */\n\t  _update: function _update() {\n\t    // stop if there are no directives or all of them are disabled:\n\t    if (this._collection.length === 0 || this._collection.every(function (directive) {\n\t      return !directive.enabled;\n\t    })) {\n\t      this.active && this._stop();\n\t    } else {\n\t      !this.active && this._start();\n\t    }\n\t  },\n\t\n\t\n\t  /**\n\t   *\n\t   * @private\n\t   */\n\t  _run: function _run() {\n\t    var _this = this;\n\t\n\t    // position hasn't changed (optimization):\n\t    if (this._position[0] === window.pageXOffset && this._position[1] === window.pageYOffset) {\n\t      // re-run:\n\t      if (this.mode === 'requestAnimationFrame') {\n\t        this._scroll.call(window, this._run);\n\t      }\n\t      return false;\n\t    }\n\t\n\t    this._position = [window.pageXOffset, window.pageYOffset];\n\t    this._collection.forEach(function (p) {\n\t      return p.run(_this._position[0], _this._position[1]);\n\t    });\n\t\n\t    // re-run:\n\t    if (this.mode === 'requestAnimationFrame') {\n\t      this._scroll.call(window, this._run);\n\t    }\n\t  },\n\t\n\t  /**\n\t   * Adds a new directive to collection\n\t   * @param {string} [id] Directive unique ID\n\t   * @param {object} options Directive options\n\t   * @return {string} Directive ID if valid, undefined otherwise\n\t   */\n\t  add: function add(id, options) {\n\t    // validate arguments:\n\t    if (!((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object' || (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object')) {\n\t      console.warn('Orchestrator: wrong number or type of arguments');\n\t      return false;\n\t    }\n\t    // generate directive id if it's empty and move current id content to options:\n\t    else if (!options) {\n\t        options = id;\n\t        id = null;\n\t      }\n\t\n\t    // create directive\n\t    var directive = new _directive2.default(id, options);\n\t    // add it to collection, upte status and return its id:\n\t    if (directive.valid) {\n\t      this._collection.push(directive);\n\t      this._update();\n\t      return directive.id;\n\t    }\n\t  },\n\t\n\t\n\t  /**\n\t   * Removes an existing directive or many directives from collection\n\t   * @param {string} ids One or more directive unique ID to delete.\n\t   * Leave blank to delete all directives.\n\t   */\n\t  remove: function remove() {\n\t    var _this2 = this;\n\t\n\t    for (var _len = arguments.length, ids = Array(_len), _key = 0; _key < _len; _key++) {\n\t      ids[_key] = arguments[_key];\n\t    }\n\t\n\t    // delete all & update status:\n\t    if (ids.length === 0) {\n\t      this._collection.length = 0;\n\t      this._update();\n\t      return true;\n\t    }\n\t\n\t    // delete some by id & update status:\n\t    ids.forEach(function (id) {\n\t      var index = _this2._collection.findIndex(function (p) {\n\t        return p.id === id;\n\t      });\n\t      if (index) {\n\t        _this2._collection.splice(index, 1);\n\t        _this2._update();\n\t      }\n\t    });\n\t  },\n\t\n\t\n\t  /**\n\t   * Disables a directive or many directives\n\t   * @param {string} [ids] One or more directive unique ID to disable.\n\t   * Leave blank to disable all directives.\n\t   */\n\t  disable: function disable() {\n\t    var _this3 = this;\n\t\n\t    for (var _len2 = arguments.length, ids = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      ids[_key2] = arguments[_key2];\n\t    }\n\t\n\t    this._collection.filter(function (p) {\n\t      return ids.includes(p.id) || ids.length === 0;\n\t    }).forEach(function (p) {\n\t      p.disable();\n\t      _this3._update();\n\t    });\n\t  },\n\t\n\t\n\t  /**\n\t   * Enables a directive or many directives\n\t   * @param {string} [ids] One or more directive unique ID to enable.\n\t   * Leave blank to enable all directives.\n\t   */\n\t  enable: function enable() {\n\t    var _this4 = this;\n\t\n\t    for (var _len3 = arguments.length, ids = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t      ids[_key3] = arguments[_key3];\n\t    }\n\t\n\t    this._collection.filter(function (p) {\n\t      return ids.includes(p.id) || ids.length === 0;\n\t    }).forEach(function (p) {\n\t      p.enable();\n\t      _this4._update();\n\t    });\n\t  }\n\t};\n\t\n\torchestrator._init();\n\t\n\t// export default orchestrator:\n\texports.default = orchestrator;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Created by nirelbaz on 21/12/2016.\n\t */\n\tvar Directive = function () {\n\t  function Directive(id, options) {\n\t    _classCallCheck(this, Directive);\n\t\n\t    this.id = id || btoa(new Date().valueOf().toString());\n\t    this.enabled = false;\n\t    this.valid = false;\n\t    this.element = null;\n\t\n\t    this.extractOptions(options);\n\t  }\n\t\n\t  /**\n\t   * Disables directive\n\t   */\n\t\n\t\n\t  _createClass(Directive, [{\n\t    key: 'disable',\n\t    value: function disable() {\n\t      this.enabled = false;\n\t    }\n\t\n\t    /**\n\t     * Enables directive\n\t     */\n\t\n\t  }, {\n\t    key: 'enable',\n\t    value: function enable() {\n\t      this.enabled = true;\n\t    }\n\t\n\t    /**\n\t     * Extracts & validates options\n\t     * @param {object} options Directive options\n\t     */\n\t\n\t  }, {\n\t    key: 'extractOptions',\n\t    value: function extractOptions(options) {\n\t      var _this = this;\n\t\n\t      // check for common options:\n\t      if (options.selector && options.timeline && _typeof(options.timeline) === 'object') {\n\t        this.selector = options.selector;\n\t        this.element = document.querySelectorAll(options.selector);\n\t        this.timeline = options.timeline;\n\t        this.style = [];\n\t\n\t        // validate and format timeline array:\n\t        this.timeline.forEach(function (scene) {\n\t          if (scene.actions && _typeof(scene.actions) === 'object' && (scene.top && (isFinite(scene.top) || Array.isArray(scene.top) && scene.top.every(function (n) {\n\t            return isFinite(n);\n\t          })) || scene.left && (isFinite(scene.left) || Array.isArray(scene.left) && scene.left.every(function (n) {\n\t            return isFinite(n);\n\t          })))) {\n\t            scene.top = Array.isArray(scene.top) ? scene.top : [scene.top, null];\n\t            scene.left = Array.isArray(scene.left) ? scene.left : [scene.left, null];\n\t\n\t            // now check actions object:\n\t\n\t            var _loop = function _loop(action) {\n\t              if (scene.actions.hasOwnProperty(action)) {\n\t                switch (action) {\n\t                  case 'addClass':\n\t                    if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n\t                      if (typeof scene.actions[action] === 'string') {\n\t                        scene.actions.addClass = [scene.actions[action]];\n\t                      }\n\t                    } else {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                  case 'removeClass':\n\t                    if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n\t                      if (typeof scene.actions[action] === 'string') {\n\t                        scene.actions.removeClass = [scene.actions[action]];\n\t                      }\n\t                    } else {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                  case 'setStyle':\n\t                    if (_typeof(scene.actions[action]) !== 'object' || Object.keys(scene.actions[action]).length === 0) {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t\n\t                    // store current style:\n\t                    if (_this.element) {\n\t                      [].concat(_toConsumableArray(_this.element)).forEach(function (element, index) {\n\t                        var style = window.getComputedStyle(element),\n\t                            current = _this.style && _this.style.length > index && _this.style[index] || {};\n\t\n\t                        Object.keys(scene.actions[action]).forEach(function (prop) {\n\t                          current[prop] = style.getPropertyValue(prop);\n\t                        });\n\t                        _this.style.push(current);\n\t                      });\n\t\n\t                      console.log(_this.style);\n\t                    }\n\t                    break;\n\t                  case 'callFunction':\n\t                    if (typeof scene.method !== 'function') {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                }\n\t              }\n\t\n\t              if (Object.keys(scene.actions).length > 0) {\n\t                _this.enabled = true;\n\t                _this.valid = true;\n\t              } else {\n\t                console.warn('Directive ' + _this.id + ' has no valid actions');\n\t              }\n\t            };\n\t\n\t            for (var action in scene.actions) {\n\t              _loop(action);\n\t            }\n\t          }\n\t        });\n\t      } else {\n\t        console.warn('Directive ' + this.id + ' is not valid');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'run',\n\t    value: function run(left, top) {\n\t      var _this2 = this;\n\t\n\t      // continue only if directive is enabled & valid:\n\t      if (this.enabled && this.valid) {\n\t        // if element is empty, find and cache it:\n\t        if (!this.element) {\n\t          this.element = document.querySelectorAll(this.selector);\n\t        }\n\t        // verify there's such element:\n\t        if (this.element) {\n\t          this.timeline.forEach(function (scene) {\n\t            // directive is in range:\n\t            if (top >= scene.top[0] && (top <= scene.top[1] || !scene.top[1]) || left >= scene.left[0] && (left <= scene.left[1] || !scene.left[1])) {\n\t              var _loop2 = function _loop2(action) {\n\t                if (scene.actions.hasOwnProperty(action)) {\n\t                  switch (action) {\n\t                    case 'addClass':\n\t                    case 'removeClass':\n\t                      [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                        scene.actions[action].forEach(function (className) {\n\t                          if (action === 'addClass') {\n\t                            element.classList.add(className);\n\t                          } else {\n\t                            element.classList.remove(className);\n\t                          }\n\t                        });\n\t                      });\n\t                      break;\n\t                    case 'setStyle':\n\t                      var _loop3 = function _loop3(property) {\n\t                        if (scene.actions[action].hasOwnProperty(property)) {\n\t                          [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                            element.style[property] = typeof scene.actions[action][property] === 'function' ? scene.actions[action][property](left, top) : scene.actions[action][property];\n\t                          });\n\t                        }\n\t                      };\n\t\n\t                      for (var property in scene.actions[action]) {\n\t                        _loop3(property);\n\t                      }\n\t                      break;\n\t                    case 'callFunction':\n\t                      scene.actions[action](left, top);\n\t                      break;\n\t                  }\n\t                }\n\t              };\n\t\n\t              for (var action in scene.actions) {\n\t                _loop2(action);\n\t              }\n\t            }\n\t            // directive is out of range:\n\t            else {\n\t                var _loop4 = function _loop4(action) {\n\t                  if (scene.actions.hasOwnProperty(action)) {\n\t                    switch (action) {\n\t                      case 'addClass':\n\t                      case 'removeClass':\n\t                        [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                          scene.actions[action].forEach(function (className) {\n\t                            if (action === 'addClass') {\n\t                              element.classList.remove(className);\n\t                            } else {\n\t                              element.classList.add(className);\n\t                            }\n\t                          });\n\t                        });\n\t                        break;\n\t                      case 'setStyle':\n\t                        var _loop5 = function _loop5(property) {\n\t                          if (scene.actions[action].hasOwnProperty(property)) {\n\t                            [].concat(_toConsumableArray(_this2.element)).forEach(function (element, index) {\n\t                              element.style[property] = _this2.style[index][property];\n\t                            });\n\t                          }\n\t                        };\n\t\n\t                        for (var property in scene.actions[action]) {\n\t                          _loop5(property);\n\t                        }\n\t                        break;\n\t                    }\n\t                  }\n\t                };\n\t\n\t                for (var action in scene.actions) {\n\t                  _loop4(action);\n\t                }\n\t              }\n\t          });\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Directive;\n\t}();\n\t\n\texports.default = Directive;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}