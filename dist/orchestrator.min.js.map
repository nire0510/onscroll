{"version":3,"sources":["orchestrator.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","run","position","window","pageXOffset","pageYOffset","scroll","_directives2","forEach","Object","defineProperty","value","_typeof","Symbol","iterator","constructor","prototype","_directive","_directive2","_directives","orchestrator","add","options","console","warn","directive","valid","push","remove","_len","arguments","length","ids","Array","_key","slice","findIndex","disable","_len2","_key2","filter","includes","enable","_len3","_key3","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","_toConsumableArray","arr","isArray","i","arr2","from","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","Directive","btoa","Date","valueOf","toString","enabled","element","extractOptions","_this","selector","timeline","document","querySelectorAll","scene","actions","top","isFinite","every","n","left","action","hasOwnProperty","addClass","removeClass","keys","method","_this2","_loop","concat","className","classList","_loop2","property","style","_loop3","directives"],"mappings":"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","file":"orchestrator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"orchestrator\"] = factory();\n\telse\n\t\troot[\"orchestrator\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _directive = __webpack_require__(1);\n\t\n\tvar _directive2 = _interopRequireDefault(_directive);\n\t\n\tvar _directives = __webpack_require__(2);\n\t\n\tvar _directives2 = _interopRequireDefault(_directives);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar orchestrator = {\n\t  /**\n\t   * Adds a new directive to collection\n\t   * @param {string} [id] Directive unique ID\n\t   * @param {object} options Directive options\n\t   * @return {string} Directive ID if valid, undefined otherwise\n\t   */\n\t  add: function add(id, options) {\n\t    // validate arguments:\n\t    if (!((typeof id === 'undefined' ? 'undefined' : _typeof(id)) === 'object' || (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object')) {\n\t      console.warn('Orchestrator: wrong number or type of arguments');\n\t      return false;\n\t    }\n\t    // generate directive id if it's empty and move current id content to options:\n\t    else if (!options) {\n\t        options = id;\n\t        id = null;\n\t      }\n\t\n\t    // create directive\n\t    var directive = new _directive2.default(id, options);\n\t    // add it to directives collection and return its id:\n\t    if (directive.valid) {\n\t      _directives2.default.push(directive);\n\t      return directive.id;\n\t    }\n\t  },\n\t\n\t\n\t  /**\n\t   * Removes an existing directive or many directives from collection\n\t   * @param {string} ids One or more directive unique ID to delete.\n\t   * Leave blank to delete all directives.\n\t   */\n\t  remove: function remove() {\n\t    for (var _len = arguments.length, ids = Array(_len), _key = 0; _key < _len; _key++) {\n\t      ids[_key] = arguments[_key];\n\t    }\n\t\n\t    // delete all:\n\t    if (ids.length === 0) {\n\t      _directives2.default.length = 0;\n\t      return false;\n\t    }\n\t\n\t    // delete some by id:\n\t    ids.forEach(function (id) {\n\t      _directives2.default.slice(_directives2.default.findIndex(function (p) {\n\t        return p.id === id;\n\t      }), 1);\n\t    });\n\t  },\n\t\n\t\n\t  /**\n\t   * Disables a directive or many directives\n\t   * @param {string} [ids] One or more directive unique ID to disable.\n\t   * Leave blank to disable all directives.\n\t   */\n\t  disable: function disable() {\n\t    for (var _len2 = arguments.length, ids = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      ids[_key2] = arguments[_key2];\n\t    }\n\t\n\t    _directives2.default.filter(function (p) {\n\t      return ids.includes(p.id) || ids.length === 0;\n\t    }).forEach(function (p) {\n\t      p.disable();\n\t    });\n\t  },\n\t\n\t\n\t  /**\n\t   * Enables a directive or many directives\n\t   * @param {string} [ids] One or more directive unique ID to enable.\n\t   * Leave blank to enable all directives.\n\t   */\n\t  enable: function enable() {\n\t    for (var _len3 = arguments.length, ids = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t      ids[_key3] = arguments[_key3];\n\t    }\n\t\n\t    _directives2.default.filter(function (p) {\n\t      return ids.includes(p.id) || ids.length === 0;\n\t    }).forEach(function (p) {\n\t      p.enable();\n\t    });\n\t  }\n\t};\n\t\n\tvar position = [-1, -1],\n\t    scroll = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) {\n\t  window.setTimeout(callback, 1000 / 60);\n\t};\n\t\n\tfunction run() {\n\t  // position hasn't changed (optimization):\n\t  if (position[0] === window.pageXOffset && position[1] === window.pageYOffset) {\n\t    scroll(run);\n\t    return false;\n\t  }\n\t  // store current scroll position:\n\t  position = [window.pageXOffset, window.pageYOffset];\n\t  // run each directive:\n\t  _directives2.default.forEach(function (p) {\n\t    return p.run(position[0], position[1]);\n\t  });\n\t  // re-run:\n\t  scroll(run);\n\t}\n\t\n\trun();\n\t\n\t// export default orchestrator:\n\texports.default = orchestrator;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Created by nirelbaz on 21/12/2016.\n\t */\n\tvar Directive = function () {\n\t  function Directive(id, options) {\n\t    _classCallCheck(this, Directive);\n\t\n\t    this.id = id || btoa(new Date().valueOf().toString());\n\t    this.enabled = false;\n\t    this.valid = false;\n\t    this.element = null;\n\t\n\t    this.extractOptions(options);\n\t  }\n\t\n\t  /**\n\t   * Disables directive\n\t   */\n\t\n\t\n\t  _createClass(Directive, [{\n\t    key: 'disable',\n\t    value: function disable() {\n\t      this.enabled = false;\n\t    }\n\t\n\t    /**\n\t     * Enables directive\n\t     */\n\t\n\t  }, {\n\t    key: 'enable',\n\t    value: function enable() {\n\t      this.enabled = true;\n\t    }\n\t\n\t    /**\n\t     * Extracts & validates options\n\t     * @param {object} options Directive options\n\t     */\n\t\n\t  }, {\n\t    key: 'extractOptions',\n\t    value: function extractOptions(options) {\n\t      var _this = this;\n\t\n\t      // check for common options:\n\t      if (options.selector && options.timeline && _typeof(options.timeline) === 'object') {\n\t        this.selector = options.selector;\n\t        this.element = document.querySelectorAll(options.selector);\n\t        this.timeline = options.timeline;\n\t\n\t        // validate and format timeline array:\n\t        this.timeline.forEach(function (scene) {\n\t          if (scene.actions && _typeof(scene.actions) === 'object' && (scene.top && (isFinite(scene.top) || Array.isArray(scene.top) && scene.top.every(function (n) {\n\t            return isFinite(n);\n\t          })) || scene.left && (isFinite(scene.left) || Array.isArray(scene.left) && scene.left.every(function (n) {\n\t            return isFinite(n);\n\t          })))) {\n\t            scene.top = Array.isArray(scene.top) ? scene.top : [scene.top, null];\n\t            scene.left = Array.isArray(scene.left) ? scene.left : [scene.left, null];\n\t\n\t            // now check actions object:\n\t            for (var action in scene.actions) {\n\t              if (scene.actions.hasOwnProperty(action)) {\n\t                switch (action) {\n\t                  case 'addClass':\n\t                    if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n\t                      if (typeof scene.actions[action] === 'string') {\n\t                        scene.actions.addClass = [scene.actions[action]];\n\t                      }\n\t                    } else {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                  case 'removeClass':\n\t                    if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n\t                      if (typeof scene.actions[action] === 'string') {\n\t                        scene.actions.removeClass = [scene.actions[action]];\n\t                      }\n\t                    } else {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                  case 'setStyle':\n\t                    if (_typeof(scene.actions[action]) !== 'object' || Object.keys(scene.actions[action]).length === 0) {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                  case 'callFunction':\n\t                    if (typeof scene.method !== 'function') {\n\t                      delete scene.actions[action];\n\t                      console.warn('Action ' + action + ' of directive ' + _this.id + ' is not valid');\n\t                    }\n\t                    break;\n\t                }\n\t              }\n\t\n\t              if (Object.keys(scene.actions).length > 0) {\n\t                _this.enabled = true;\n\t                _this.valid = true;\n\t              } else {\n\t                console.warn('Directive ' + _this.id + ' has no valid actions');\n\t              }\n\t            }\n\t          }\n\t        });\n\t      } else {\n\t        console.warn('Directive ' + this.id + ' is not valid');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'run',\n\t    value: function run(left, top) {\n\t      var _this2 = this;\n\t\n\t      // continue only if directive is enabled & valid:\n\t      if (this.enabled && this.valid) {\n\t        // if element is empty, find and cache it:\n\t        if (!this.element) {\n\t          this.element = document.querySelectorAll(this.selector);\n\t        }\n\t        // verify there's such element:\n\t        if (this.element) {\n\t          this.timeline.forEach(function (scene) {\n\t            // directive is in range:\n\t            if (top >= scene.top[0] && (top <= scene.top[1] || !scene.top[1]) || left >= scene.left[0] && (left <= scene.left[1] || !scene.left[1])) {\n\t              var _loop = function _loop(action) {\n\t                if (scene.actions.hasOwnProperty(action)) {\n\t                  switch (action) {\n\t                    case 'addClass':\n\t                    case 'removeClass':\n\t                      [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                        scene.actions[action].forEach(function (className) {\n\t                          if (action === 'addClass') {\n\t                            element.classList.add(className);\n\t                          } else {\n\t                            element.classList.remove(className);\n\t                          }\n\t                        });\n\t                      });\n\t                      break;\n\t                    case 'setStyle':\n\t                      var _loop2 = function _loop2(property) {\n\t                        if (scene.actions[action].hasOwnProperty(property)) {\n\t                          [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                            element.style[property] = typeof scene.actions[action][property] === 'function' ? scene.actions[action][property](left, top) : scene.actions[action][property];\n\t                          });\n\t                        }\n\t                      };\n\t\n\t                      for (var property in scene.actions[action]) {\n\t                        _loop2(property);\n\t                      }\n\t                      break;\n\t                    case 'callFunction':\n\t                      scene.actions[action](left, top);\n\t                      break;\n\t                  }\n\t                }\n\t              };\n\t\n\t              for (var action in scene.actions) {\n\t                _loop(action);\n\t              }\n\t            }\n\t            // directive is out of range:\n\t            else {\n\t                var _loop3 = function _loop3(action) {\n\t                  if (scene.actions.hasOwnProperty(action)) {\n\t                    switch (action) {\n\t                      case 'addClass':\n\t                      case 'removeClass':\n\t                        [].concat(_toConsumableArray(_this2.element)).forEach(function (element) {\n\t                          scene.actions[action].forEach(function (className) {\n\t                            if (action === 'addClass') {\n\t                              element.classList.remove(className);\n\t                            } else {\n\t                              element.classList.add(className);\n\t                            }\n\t                          });\n\t                        });\n\t                        break;\n\t                    }\n\t                  }\n\t                };\n\t\n\t                for (var action in scene.actions) {\n\t                  _loop3(action);\n\t                }\n\t              }\n\t          });\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Directive;\n\t}();\n\t\n\texports.default = Directive;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Created by nirelbaz on 21/12/2016.\n\t */\n\tvar directives = [];\n\t\n\texports.default = directives;\n\n/***/ }\n/******/ ])\n});\n;\n"],"sourceRoot":"/source/"}