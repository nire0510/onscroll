!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Onscroll=e():t.Onscroll=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(){if(d){if(window._onscroll.position.left===window.pageXOffset&&window._onscroll.position.top===window.pageYOffset)return"requestAnimationFrame"===f&&u(i),!1;window._onscroll={direction:{north:window.pageYOffset<window._onscroll.position.top,south:window.pageYOffset>window._onscroll.position.top,west:window.pageXOffset<window._onscroll.position.left,east:window.pageXOffset>window._onscroll.position.left},position:{left:window.pageXOffset,top:window.pageYOffset}},l.default.data.forEach(function(t){t.run()}),"requestAnimationFrame"===f&&u(i)}}var r=n(1),s=n(2),l=o(s),a=n(3),c=o(a),u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window._onscroll={direction:{north:!1,south:!1,west:!1,east:!1},position:{left:0,top:0}};var f="scroll",d=!1;r.pubsub.subscribe("collection:changed",function(){if(l.default.size()>0){if(!d){switch(f){case"scroll":window.addEventListener("scroll",i);break;case"requestAnimationFrame":u(i)}"complete"!==document.readyState?window.addEventListener("load",function(){window.scrollTo(window.scrollX,window.scrollX)}):window.scrollTo(window.scrollX,window.scrollX),console.log("Onscroll initialized"),d=!0}}else d&&(window.removeEventListener("scroll",i),d=!1)}),t.exports=c.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){n(this,t),this.handlers=[]}return o(t,[{key:"subscribe",value:function(t,e,n){"undefined"==typeof n&&(n=e),this.handlers.push({event:t,handler:e.bind(n)})}},{key:"publish",value:function(t){for(var e=0;e<this.handlers.length;e++)this.handlers[e].event===t&&this.handlers[e].handler.call()}}]),t}();e.pubsub=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),i={data:[],add:function(t){this.data.push(t),o.pubsub.publish("collection:changed")},size:function(){return this.data.length},remove:function(t){var e=this.data.findIndex(function(e){return e.id===t});e>=0&&(this.data.splice(e,1),o.pubsub.publish("collection:changed"))}};e.default=i},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(4),c=o(a),u=n(2),f=o(u),d=["setStyle","removeClass","addClass","callFunction"],p=function(){function t(e){r(this,t),this.id=btoa((new Date).valueOf().toString()),this.enabled=!1,this.valid=!1,this.element=null,this.extractOptions(e)}return l(t,[{key:"disable",value:function(t){t&&this._cease(),this.enabled=!1}},{key:"enable",value:function(){this.enabled=!0}},{key:"remove",value:function(){f.default.remove(this.id)}},{key:"extractOptions",value:function(t){var e=this;t.selector&&(t.hasOwnProperty("top")&&(Number.isFinite(t.top)||"object"===s(t.top)&&t.top.hasOwnProperty("from")&&Number.isFinite(t.top.from))||t.hasOwnProperty("left")&&(Number.isFinite(t.left)||"object"===s(t.left)&&t.left.hasOwnProperty("from")&&Number.isFinite(t.left.from)))&&(t.setStyle||t.addClass||t.removeClass||t.callFunction)?(this.selector=t.selector,this.element=document.querySelectorAll(t.selector),this.style=[],this.actions={},this.left={from:t.hasOwnProperty("left")&&Number.isFinite(t.left)?t.left:t.hasOwnProperty("left")?t.left.from:null,to:t.hasOwnProperty("left")&&t.left.hasOwnProperty("to")&&Number.isFinite(t.left.to)?t.left.to:null},this.top={from:t.hasOwnProperty("top")&&Number.isFinite(t.top)?t.top:t.hasOwnProperty("top")?t.top.from:null,to:t.hasOwnProperty("top")&&t.top.hasOwnProperty("to")&&Number.isFinite(t.top.to)?t.top.to:null},this.direction="string"==typeof t.direction?[t.direction]:Array.isArray(t.direction)?t.direction:[],t.hasOwnProperty("debounce")?this.run=c.default.debounce(this._run,Number.isFinite(t.debounce)?t.debounce:100):t.hasOwnProperty("throttle")?this.run=c.default.throttle(this._run,Number.isFinite(t.throttle)?t.throttle:100):this.run=this._run,d.forEach(function(n){if(t.hasOwnProperty(n))switch(n){case"removeClass":case"addClass":"string"==typeof t[n]||Array.isArray(t[n])?"string"==typeof t[n]?e.actions[n]=[t[n]]:e.actions[n]=t[n]:console.warn("Action "+n+" of instance "+e.id+" is not valid");break;case"setStyle":"object"===s(t[n])&&Object.keys(t[n]).length>0?(e.actions[n]=t[n],e.getCurrentStyle()):console.warn("Action "+n+" of instance "+e.id+" is not valid");break;case"callFunction":"function"==typeof t[n]?e.actions[n]=t[n]:console.warn("Action "+n+" of instance "+e.id+" is not valid")}}),Object.keys(this.actions).length>0?(f.default.add(this),this.enabled=!0,this.valid=!0):console.warn("Onscroll "+this.id+" has no valid actions")):console.warn("Onscroll "+this.id+" is not valid")}},{key:"getCurrentStyle",value:function(){var t=this;this.element&&this.element.length>0&&[].concat(i(this.element)).forEach(function(e,n){var o=window.getComputedStyle(e),i=t.style&&t.style.length>n&&t.style[n]||{};Object.keys(t.actions.setStyle).forEach(function(t){i[t]=o.getPropertyValue(t)}),t.style.push(i)})}},{key:"_run",value:function(){var t=window._onscroll.position,e=window._onscroll.direction;this.enabled&&this.valid&&(this.element&&0!==this.element.length||(this.element=document.querySelectorAll(this.selector),this.actions.hasOwnProperty("setStyle")&&this.getCurrentStyle()),this.element&&this.element.length>0&&((Number.isFinite(this.top.from)&&t.top>=this.top.from&&(t.top<=this.top.to||null===this.top.to)||Number.isFinite(this.top.left)&&t.left>=this.left.from&&(t.left<=this.left.to||null===this.left.to))&&(0===this.direction.length||this.direction.some(function(t){return t.split("-").every(function(t){return e[t]})}))?this._apply():this._cease()))}},{key:"_apply",value:function(){var t=this,e=function(e){if(t.actions.hasOwnProperty(e))switch(e){case"addClass":case"removeClass":[].concat(i(t.element)).forEach(function(n){t.actions[e].forEach(function(t){"addClass"===e?n.classList.add(t):n.classList.remove(t)})});break;case"setStyle":var n=function(n){t.actions[e].hasOwnProperty(n)&&[].concat(i(t.element)).forEach(function(o){o.style[n]="function"==typeof t.actions[e][n]?t.actions[e][n](window._onscroll.position,window._onscroll.direction):t.actions[e][n]})};for(var o in t.actions[e])n(o);break;case"callFunction":t.actions[e](window._onscroll.position,window._onscroll.direction)}};for(var n in this.actions)e(n)}},{key:"_cease",value:function(){var t=this,e=function(e){if(t.actions.hasOwnProperty(e))switch(e){case"addClass":case"removeClass":[].concat(i(t.element)).forEach(function(n){t.actions[e].forEach(function(t){"addClass"===e?n.classList.remove(t):n.classList.add(t)})});break;case"setStyle":var n=function(n){t.actions[e].hasOwnProperty(n)&&[].concat(i(t.element)).forEach(function(e,o){e.style[n]=t.style[o][n]})};for(var o in t.actions[e])n(o)}};for(var n in this.actions)e(n)}}]),t}();e.default=p},function(t,e,n){var o;(function(t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function s(){}function l(t){return null==t?t===w?_:O:M&&M in Object(t)?a(t):c(t)}function a(t){var e=q.call(t,M),n=t[M];try{t[M]=w;var o=!0}catch(t){}var i=L.call(t);return o&&(e?t[M]=n:delete t[M]),i}function c(t){return L.call(t)}function u(t,e,n){function o(e){var n=p,o=h;return p=h=w,_=e,v=t.apply(o,n)}function i(t){return _=t,O=setTimeout(l,e),j?o(t):v}function r(t){var n=t-g,o=t-_,i=e-n;return S?z(i,m-o):i}function s(t){var n=t-g,o=t-_;return g===w||n>=e||n<0||S&&o>=m}function l(){var t=Y();return s(t)?a(t):void(O=setTimeout(l,r(t)))}function a(t){return O=w,P&&p?o(t):(p=h=w,v)}function c(){O!==w&&clearTimeout(O),_=0,p=g=h=O=w}function u(){return O===w?v:a(Y())}function f(){var t=Y(),n=s(t);if(p=arguments,h=this,g=t,n){if(O===w)return i(g);if(S)return O=setTimeout(l,e),o(g)}return O===w&&(O=setTimeout(l,e)),v}var p,h,m,v,O,g,_=0,j=!1,S=!1,P=!0;if("function"!=typeof t)throw new TypeError(b);return e=y(e)||0,d(n)&&(j=!!n.leading,S="maxWait"in n,m=S?R(y(n.maxWait)||0,e):m,P="trailing"in n?!!n.trailing:P),f.cancel=c,f.flush=u,f}function f(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError(b);return d(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),u(t,e,{leading:o,maxWait:e,trailing:i})}function d(t){var e="undefined"==typeof t?"undefined":r(t);return null!=t&&("object"==e||"function"==e)}function p(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":r(t))}function h(t){return"symbol"==("undefined"==typeof t?"undefined":r(t))||p(t)&&l(t)==g}function y(t){if("number"==typeof t)return t;if(h(t))return v;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(j,"");var n=P.test(t);return n||k.test(t)?F(t.slice(2),n?2:8):S.test(t)?v:+t}var w,m="4.17.3",b="Expected a function",v=NaN,O="[object Null]",g="[object Symbol]",_="[object Undefined]",j=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,k=/^0o[0-7]+$/i,F=parseInt,x="object"==("undefined"==typeof t?"undefined":r(t))&&t&&t.Object===Object&&t,A="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,E=x||A||Function("return this")(),C="object"==r(e)&&e&&!e.nodeType&&e,N=C&&"object"==r(i)&&i&&!i.nodeType&&i,T=Object.prototype,q=T.hasOwnProperty,L=T.toString,X=E.Symbol,M=X?X.toStringTag:w,R=Math.max,z=Math.min,Y=function(){return E.Date.now()};s.debounce=u,s.throttle=f,s.isObject=d,s.isObjectLike=p,s.isSymbol=h,s.now=Y,s.toNumber=y,s.VERSION=m,"object"==r(n(6))&&n(6)?(E._=s,o=function(){return s}.call(e,n,e,i),!(o!==w&&(i.exports=o))):N?((N.exports=s)._=s,C._=s):E._=s}).call(void 0)}).call(e,function(){return this}(),n(5)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(e,{})}])});
//# sourceMappingURL=onscroll.min.js.map
