{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0b97fd95df5a03c339f2","webpack:///./src/orchestrator.js","webpack:///./src/directive.js","webpack:///./src/directives.js"],"names":["orchestrator","add","id","options","console","warn","directive","valid","push","remove","ids","length","forEach","slice","findIndex","p","disable","filter","includes","enable","position","scroll","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","setTimeout","run","pageXOffset","pageYOffset","Directive","btoa","Date","valueOf","toString","enabled","element","extractOptions","selector","timeline","document","querySelectorAll","scene","actions","top","isFinite","Array","isArray","every","n","left","action","hasOwnProperty","addClass","removeClass","Object","keys","method","classList","className","property","style","directives"],"mappings":"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","file":"orchestrator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"orchestrator\"] = factory();\n\telse\n\t\troot[\"orchestrator\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0b97fd95df5a03c339f2\n **/","import Directive from './directive';\nimport directives from './directives';\n\nconst orchestrator = {\n  /**\n   * Adds a new directive to collection\n   * @param {string} [id] Directive unique ID\n   * @param {object} options Directive options\n   * @return {string} Directive ID if valid, undefined otherwise\n   */\n  add(id, options) {\n    // validate arguments:\n    if (!(typeof id === 'object' || typeof options === 'object')) {\n      console.warn('Orchestrator: wrong number or type of arguments');\n      return false;\n    }\n    // generate directive id if it's empty and move current id content to options:\n    else if (!options) {\n      options = id;\n      id = null;\n    }\n\n    // create directive\n    let directive = new Directive(id, options);\n    // add it to directives collection and return its id:\n    if (directive.valid) {\n      directives.push(directive);\n      return directive.id;\n    }\n  },\n\n  /**\n   * Removes an existing directive or many directives from collection\n   * @param {string} ids One or more directive unique ID to delete.\n   * Leave blank to delete all directives.\n   */\n  remove(...ids) {\n    // delete all:\n    if (ids.length === 0) {\n      directives.length = 0;\n      return false;\n    }\n\n    // delete some by id:\n    ids.forEach(id => {\n      directives.slice(directives.findIndex(p => p.id === id), 1);\n    });\n  },\n\n  /**\n   * Disables a directive or many directives\n   * @param {string} [ids] One or more directive unique ID to disable.\n   * Leave blank to disable all directives.\n   */\n  disable(...ids) {\n    directives\n      .filter(p => ids.includes(p.id) || ids.length === 0)\n      .forEach(p => {\n        p.disable()\n      });\n  },\n\n  /**\n   * Enables a directive or many directives\n   * @param {string} [ids] One or more directive unique ID to enable.\n   * Leave blank to enable all directives.\n   */\n  enable(...ids) {\n    directives\n      .filter(p => ids.includes(p.id) || ids.length === 0)\n      .forEach(p => {\n        p.enable()\n      });\n  }\n};\n\nlet position = [-1, -1],\n  scroll = window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.msRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  function (callback) { window.setTimeout(callback, 1000/60) };\n\nfunction run() {\n  // position hasn't changed (optimization):\n  if (position[0] === window.pageXOffset && position[1] === window.pageYOffset) {\n    scroll(run);\n    return false;\n  }\n  // store current scroll position:\n  position = [window.pageXOffset, window.pageYOffset];\n  // run each directive:\n  directives.forEach(p => p.run(position[0], position[1]));\n  // re-run:\n  scroll(run);\n}\n\nrun();\n\n// export default orchestrator:\nexport default orchestrator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/orchestrator.js\n **/","/**\n * Created by nirelbaz on 21/12/2016.\n */\nclass Directive {\n  constructor(id, options) {\n    this.id = id || btoa(new Date().valueOf().toString());\n    this.enabled = false;\n    this.valid = false;\n    this.element = null;\n\n    this.extractOptions(options)\n  }\n\n  /**\n   * Disables directive\n   */\n  disable() {\n    this.enabled = false;\n  }\n\n  /**\n   * Enables directive\n   */\n  enable() {\n    this.enabled = true;\n  }\n\n  /**\n   * Extracts & validates options\n   * @param {object} options Directive options\n   */\n  extractOptions(options) {\n    // check for common options:\n    if (options.selector && options.timeline && typeof options.timeline === 'object') {\n      this.selector = options.selector;\n      this.element = document.querySelectorAll(options.selector);\n      this.timeline = options.timeline;\n\n      // validate and format timeline array:\n      this.timeline.forEach(scene => {\n        if (scene.actions && typeof scene.actions === 'object' &&\n          (scene.top && (isFinite(scene.top) || (Array.isArray(scene.top) && scene.top.every(n => isFinite(n)))) ||\n          (scene.left && (isFinite(scene.left) || (Array.isArray(scene.left) && scene.left.every(n => isFinite(n))))))) {\n          scene.top = Array.isArray(scene.top) ? scene.top : [scene.top, null];\n          scene.left = Array.isArray(scene.left) ? scene.left : [scene.left, null];\n\n          // now check actions object:\n          for (let action in scene.actions) {\n            if (scene.actions.hasOwnProperty(action)) {\n              switch (action) {\n                case 'addClass':\n                  if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n                    if (typeof scene.actions[action] === 'string') {\n                      scene.actions.addClass = [scene.actions[action]];\n                    }\n                  }\n                  else {\n                    delete scene.actions[action];\n                    console.warn(`Action ${action} of directive ${this.id} is not valid`);\n                  }\n                  break;\n                case 'removeClass':\n                  if (typeof scene.actions[action] === 'string' || Array.isArray(scene.actions[action])) {\n                    if (typeof scene.actions[action] === 'string') {\n                      scene.actions.removeClass = [scene.actions[action]];\n                    }\n                  }\n                  else {\n                    delete scene.actions[action];\n                    console.warn(`Action ${action} of directive ${this.id} is not valid`);\n                  }\n                  break;\n                case 'setStyle':\n                  if (typeof scene.actions[action] !== 'object' || Object.keys(scene.actions[action]).length === 0) {\n                    delete scene.actions[action];\n                    console.warn(`Action ${action} of directive ${this.id} is not valid`);\n                  }\n                  break;\n                case 'callFunction':\n                  if (typeof scene.method !== 'function') {\n                    delete scene.actions[action];\n                    console.warn(`Action ${action} of directive ${this.id} is not valid`);\n                  }\n                  break;\n              }\n            }\n\n            if (Object.keys(scene.actions).length > 0) {\n              this.enabled = true;\n              this.valid = true;\n            }\n            else {\n              console.warn(`Directive ${this.id} has no valid actions`);\n            }\n          }\n        }\n      });\n    }\n    else {\n      console.warn(`Directive ${this.id} is not valid`);\n    }\n  }\n\n  run(left, top) {\n    // continue only if directive is enabled & valid:\n    if (this.enabled && this.valid) {\n      // if element is empty, find and cache it:\n      if (!this.element) {\n        this.element = document.querySelectorAll(this.selector);\n      }\n      // verify there's such element:\n      if (this.element) {\n        this.timeline.forEach(scene => {\n          // directive is in range:\n          if ((top >= scene.top[0] && (top <= scene.top[1] || !scene.top[1])) ||\n            (left >= scene.left[0] && (left <= scene.left[1] || !scene.left[1]))) {\n            for (let action in scene.actions) {\n              if (scene.actions.hasOwnProperty(action)) {\n                switch (action) {\n                  case 'addClass':\n                  case 'removeClass':\n                    [...this.element].forEach(element => {\n                      scene.actions[action].forEach(className => {\n                        if (action === 'addClass') {\n                          element.classList.add(className);\n                        }\n                        else {\n                          element.classList.remove(className);\n                        }\n                      });\n                    });\n                    break;\n                  case 'setStyle':\n                    for (let property in scene.actions[action]) {\n                      if (scene.actions[action].hasOwnProperty(property)) {\n                        [...this.element].forEach(element => {\n                          element.style[property] = typeof scene.actions[action][property] === 'function' ?\n                            scene.actions[action][property](left, top) :\n                            scene.actions[action][property];\n                        });\n                      }\n                    }\n                    break;\n                  case 'callFunction':\n                    scene.actions[action](left, top);\n                    break;\n                }\n              }\n            }\n          }\n          // directive is out of range:\n          else {\n            for (let action in scene.actions) {\n              if (scene.actions.hasOwnProperty(action)) {\n                switch (action) {\n                  case 'addClass':\n                  case 'removeClass':\n                    [...this.element].forEach(element => {\n                      scene.actions[action].forEach(className => {\n                        if (action === 'addClass') {\n                          element.classList.remove(className);\n                        }\n                        else {\n                          element.classList.add(className);\n                        }\n                      });\n                    });\n                    break;\n                }\n              }\n            }\n          }\n        });\n      }\n    }\n  }\n}\n\nexport default Directive;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directive.js\n **/","/**\n * Created by nirelbaz on 21/12/2016.\n */\nlet directives = [];\n\nexport default directives;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/directives.js\n **/"],"sourceRoot":""}