!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Orchestrator=e():t.Orchestrator=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(){return window.position.left===window.pageXOffset&&window.position.top===window.pageYOffset?("requestAnimationFrame"===d&&f(r),!1):(window.position={left:window.pageXOffset,top:window.pageYOffset},l.default.data.forEach(function(t){t.run()}),void("requestAnimationFrame"===d&&f(r)))}function i(){switch(d){case"scroll":window.addEventListener("scroll",r);break;case"requestAnimationFrame":f(r)}"complete"!==document.readyState?window.addEventListener("load",function(){window.scrollTo(window.scrollX,window.scrollX)}):window.scrollTo(window.scrollX,window.scrollX),console.log("Orchestrator initialized"),p=!0}var s=n(1),a=n(2),l=o(a),c=n(3),u=o(c),f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.position={left:-1,top:-1};var d="scroll",p=!1;s.pubsub.subscribe("collection:item-added",function(){p||i()}),t.exports=u.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(){n(this,t),this.handlers=[]}return o(t,[{key:"subscribe",value:function(t,e,n){"undefined"==typeof n&&(n=e),this.handlers.push({event:t,handler:e.bind(n)})}},{key:"publish",value:function(t){for(var e=0;e<this.handlers.length;e++)this.handlers[e].event===t&&this.handlers[e].handler.call()}}]),t}();e.pubsub=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r={data:[],add:function(t){this.data.push(t),o.pubsub.publish("collection:item-added")}};e.default=r},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=n(4),c=o(l),u=n(2),f=o(u),d=["setStyle","removeClass","addClass","callFunction"],p=function(){function t(e){i(this,t),this.id=btoa((new Date).valueOf().toString()),this.enabled=!1,this.valid=!1,this.element=null,this.extractOptions(e)}return a(t,[{key:"disable",value:function(){this.enabled=!1}},{key:"enable",value:function(){this.enabled=!0}},{key:"extractOptions",value:function(t){var e=this;t.selector&&(t.hasOwnProperty("top")&&(Number.isInteger(t.top)||"object"===s(t.top)&&t.top.hasOwnProperty("from")&&Number.isInteger(t.top.from))||t.hasOwnProperty("left")&&(Number.isInteger(t.left)||"object"===s(t.left)&&t.left.hasOwnProperty("from")&&Number.isInteger(t.left.from)))&&(t.setStyle||t.addClass||t.removeClass||t.callFunction)?(this.selector=t.selector,this.element=document.querySelectorAll(t.selector),this.style=[],this.actions={},this.left={from:t.hasOwnProperty("left")&&Number.isInteger(t.left)?t.left:t.hasOwnProperty("left")?t.left.from:null,to:t.hasOwnProperty("left")&&t.left.hasOwnProperty("to")&&Number.isInteger(t.left.to)?t.left.to:null},this.top={from:t.hasOwnProperty("top")&&Number.isInteger(t.top)?t.top:t.hasOwnProperty("top")?t.top.from:null,to:t.hasOwnProperty("top")&&t.top.hasOwnProperty("to")&&Number.isInteger(t.top.to)?t.top.to:null},t.hasOwnProperty("debounce")?this.run=c.default.debounce(this._run,Number.isInteger(t.debounce)?t.debounce:100):t.hasOwnProperty("throttle")?this.run=c.default.throttle(this._run,Number.isInteger(t.throttle)?t.throttle:100):this.run=this._run,d.forEach(function(n){if(t.hasOwnProperty(n))switch(n){case"removeClass":case"addClass":"string"==typeof t[n]||Array.isArray(t[n])?"string"==typeof t[n]&&(e.actions[n]=[t[n]]):console.warn("Action "+n+" of orchestrator "+e.id+" is not valid");break;case"setStyle":"object"===s(t[n])&&Object.keys(t[n]).length>0?(e.actions[n]=t[n],e.getCurrentStyle()):console.warn("Action "+n+" of orchestrator "+e.id+" is not valid");break;case"callFunction":"function"==typeof t[n]?e.actions[n]=t[n]:console.warn("Action "+n+" of orchestrator "+e.id+" is not valid")}}),Object.keys(this.actions).length>0?(f.default.add(this),this.enabled=!0,this.valid=!0):console.warn("Orchestrator "+this.id+" has no valid actions")):console.warn("Orchestrator "+this.id+" is not valid")}},{key:"getCurrentStyle",value:function(){var t=this;this.element&&this.element.length>0&&[].concat(r(this.element)).forEach(function(e,n){var o=window.getComputedStyle(e),r=t.style&&t.style.length>n&&t.style[n]||{};Object.keys(t.actions.setStyle).forEach(function(t){r[t]=o.getPropertyValue(t)}),t.style.push(r)})}},{key:"_run",value:function(){var t=window.position;this.enabled&&this.valid&&(this.element&&0!==this.element.length||(this.element=document.querySelectorAll(this.selector),this.getCurrentStyle()),this.element&&this.element.length>0&&(Number.isInteger(this.top.from)&&t.top>=this.top.from&&(t.top<=this.top.to||null===this.top.to)||Number.isInteger(this.top.left)&&t.left>=this.left.from&&(t.left<=this.left.to||null===this.left.to)?this._apply():this._cease()))}},{key:"_apply",value:function(){var t=this,e=function(e){if(t.actions.hasOwnProperty(e))switch(e){case"addClass":case"removeClass":[].concat(r(t.element)).forEach(function(n){t.actions[e].forEach(function(t){"addClass"===e?n.classList.add(t):n.classList.remove(t)})});break;case"setStyle":var n=function(n){t.actions[e].hasOwnProperty(n)&&[].concat(r(t.element)).forEach(function(o){o.style[n]="function"==typeof t.actions[e][n]?t.actions[e][n](position.left,position.top):t.actions[e][n]})};for(var o in t.actions[e])n(o);break;case"callFunction":t.actions[e](position.left,position.top)}};for(var n in this.actions)e(n)}},{key:"_cease",value:function(){var t=this,e=function(e){if(t.actions.hasOwnProperty(e))switch(e){case"addClass":case"removeClass":[].concat(r(t.element)).forEach(function(n){t.actions[e].forEach(function(t){"addClass"===e?n.classList.remove(t):n.classList.add(t)})});break;case"setStyle":var n=function(n){t.actions[e].hasOwnProperty(n)&&[].concat(r(t.element)).forEach(function(e,o){e.style[n]=t.style[o][n]})};for(var o in t.actions[e])n(o)}};for(var n in this.actions)e(n)}}]),t}();e.default=p},function(t,e,n){var o;(function(t,r){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){function s(){}function a(t){return null==t?t===m?j:g:M&&M in Object(t)?l(t):c(t)}function l(t){var e=F.call(t,M),n=t[M];try{t[M]=m;var o=!0}catch(t){}var r=q.call(t);return o&&(e?t[M]=n:delete t[M]),r}function c(t){return q.call(t)}function u(t,e,n){function o(e){var n=p,o=h;return p=h=m,j=e,v=t.apply(o,n)}function r(t){return j=t,g=setTimeout(a,e),S?o(t):v}function i(t){var n=t-O,o=t-j,r=e-n;return P?R(r,b-o):r}function s(t){var n=t-O,o=t-j;return O===m||n>=e||n<0||P&&o>=b}function a(){var t=$();return s(t)?l(t):void(g=setTimeout(a,i(t)))}function l(t){return g=m,k&&p?o(t):(p=h=m,v)}function c(){g!==m&&clearTimeout(g),j=0,p=O=h=g=m}function u(){return g===m?v:l($())}function f(){var t=$(),n=s(t);if(p=arguments,h=this,O=t,n){if(g===m)return r(O);if(P)return g=setTimeout(a,e),o(O)}return g===m&&(g=setTimeout(a,e)),v}var p,h,b,v,g,O,j=0,S=!1,P=!1,k=!0;if("function"!=typeof t)throw new TypeError(w);return e=y(e)||0,d(n)&&(S=!!n.leading,P="maxWait"in n,b=P?X(y(n.maxWait)||0,e):b,k="trailing"in n?!!n.trailing:k),f.cancel=c,f.flush=u,f}function f(t,e,n){var o=!0,r=!0;if("function"!=typeof t)throw new TypeError(w);return d(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),u(t,e,{leading:o,maxWait:e,trailing:r})}function d(t){var e="undefined"==typeof t?"undefined":i(t);return null!=t&&("object"==e||"function"==e)}function p(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":i(t))}function h(t){return"symbol"==("undefined"==typeof t?"undefined":i(t))||p(t)&&a(t)==O}function y(t){if("number"==typeof t)return t;if(h(t))return v;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(S,"");var n=k.test(t);return n||x.test(t)?_(t.slice(2),n?2:8):P.test(t)?v:+t}var m,b="4.17.3",w="Expected a function",v=NaN,g="[object Null]",O="[object Symbol]",j="[object Undefined]",S=/^\s+|\s+$/g,P=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,x=/^0o[0-7]+$/i,_=parseInt,A="object"==("undefined"==typeof t?"undefined":i(t))&&t&&t.Object===Object&&t,C="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,E=A||C||Function("return this")(),N="object"==i(e)&&e&&!e.nodeType&&e,T=N&&"object"==i(r)&&r&&!r.nodeType&&r,I=Object.prototype,F=I.hasOwnProperty,q=I.toString,L=E.Symbol,M=L?L.toStringTag:m,X=Math.max,R=Math.min,$=function(){return E.Date.now()};s.debounce=u,s.throttle=f,s.isObject=d,s.isObjectLike=p,s.isSymbol=h,s.now=$,s.toNumber=y,s.VERSION=b,"object"==i(n(6))&&n(6)?(E._=s,o=function(){return s}.call(e,n,e,r),!(o!==m&&(r.exports=o))):T?((T.exports=s)._=s,N._=s):E._=s}).call(void 0)}).call(e,function(){return this}(),n(5)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(e,{})}])});
//# sourceMappingURL=orchestrator.min.js.map
